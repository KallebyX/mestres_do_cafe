# Mestres do Café - Production Environment Variables
# Este arquivo contém as configurações para ambiente de produção no Render
# IMPORTANTE: Não committar este arquivo com valores reais de produção!

# =============================================================================
# Environment Configuration
# =============================================================================
NODE_ENV=production
FLASK_ENV=production
FLASK_DEBUG=0
DEBUG=False
TESTING=False

# =============================================================================
# Database Configuration (PostgreSQL no Render)
# =============================================================================
# DATABASE_URL será fornecido automaticamente pelo Render
# Formato: postgresql://user:password@host:port/database
DATABASE_URL=${DATABASE_URL}

# =============================================================================
# Redis Configuration (Fornecido pelo Render)
# =============================================================================
# REDIS_URL será fornecido automaticamente pelo Render
REDIS_URL=${REDIS_URL}

# =============================================================================
# Security Configuration
# =============================================================================
# Estes valores serão gerados automaticamente pelo Render
SECRET_KEY=${SECRET_KEY}
JWT_SECRET_KEY=${JWT_SECRET_KEY}

# =============================================================================
# API Configuration
# =============================================================================
API_PORT=5001
CORS_ORIGINS=https://mestres-cafe-web.onrender.com,https://mestresdocafe.com.br

# =============================================================================
# Frontend Configuration
# =============================================================================
VITE_API_URL=https://mestres-cafe-api.onrender.com/api
VITE_APP_NAME=Mestres do Café

# =============================================================================
# MercadoPago Configuration (PRODUÇÃO)
# =============================================================================
# IMPORTANTE: Configurar manualmente no Render Dashboard
MERCADO_PAGO_ACCESS_TOKEN=APP_USR-XXXXXXXX-XXXXXXXX-XXXXXXXX-XXXXXXXX
MERCADO_PAGO_PUBLIC_KEY=APP_USR-XXXXXXXX-XXXXXXXX-XXXXXXXX-XXXXXXXX
MERCADO_PAGO_ENVIRONMENT=production
MERCADO_PAGO_WEBHOOK_SECRET=your-webhook-secret-here
MERCADO_PAGO_NOTIFICATION_URL=https://mestres-cafe-api.onrender.com/api/payments/mercadopago/webhook

# =============================================================================
# Melhor Envio Configuration (PRODUÇÃO)
# =============================================================================
# IMPORTANTE: Configurar manualmente no Render Dashboard
MELHOR_ENVIO_API_KEY=your-melhor-envio-api-key-here
MELHOR_ENVIO_ENVIRONMENT=production
MELHOR_ENVIO_CLIENT_ID=your-client-id-here
MELHOR_ENVIO_CLIENT_SECRET=your-client-secret-here
MELHOR_ENVIO_REDIRECT_URI=https://mestres-cafe-api.onrender.com/api/melhor-envio/callback

# =============================================================================
# Gunicorn Configuration
# =============================================================================
GUNICORN_WORKERS=2
GUNICORN_THREADS=4
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=2
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=100

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry para monitoramento de erros (opcional)
SENTRY_DSN=your-sentry-dsn-here

# =============================================================================
# Production URLs (após deployment)
# =============================================================================
# API: https://mestres-cafe-api.onrender.com
# Frontend: https://mestres-cafe-web.onrender.com
# Database: (interno do Render)
# Redis: (interno do Render)

# =============================================================================
# CHECKLIST PÓS-DEPLOYMENT
# =============================================================================
# 
# 1. CONFIGURAÇÕES MANUAIS NO RENDER:
#    □ Configurar MercadoPago credentials (production)
#    □ Configurar MelhorEnvio credentials (production)
#    □ Configurar Sentry DSN (se usando)
#    □ Verificar CORS_ORIGINS com domínio final
#    □ Configurar webhook URLs após deployment
#
# 2. TESTES FUNCIONAIS:
#    □ Testar login/registro de usuários
#    □ Testar carrinho de compras
#    □ Testar processo de checkout
#    □ Testar pagamento MercadoPago
#    □ Testar cálculo de frete MelhorEnvio
#    □ Testar webhooks de pagamento
#    □ Testar API health endpoints
#
# 3. SEGURANÇA:
#    □ Verificar HTTPS funcionando
#    □ Testar CORS headers
#    □ Verificar rate limiting
#    □ Conferir logs de segurança
#
# 4. PERFORMANCE:
#    □ Testar tempo de resposta da API
#    □ Verificar cache Redis funcionando
#    □ Monitorar uso de recursos
#    □ Configurar alertas se necessário
#
# 5. DOMÍNIO CUSTOMIZADO (SE APLICÁVEL):
#    □ Configurar DNS records
#    □ Atualizar CORS_ORIGINS
#    □ Atualizar webhook URLs
#    □ Testar SSL certificate
#
# =============================================================================
# COMANDOS ÚTEIS PARA DEPLOYMENT
# =============================================================================
#
# 1. Deploy via Render Dashboard:
#    - Conectar repositório GitHub
#    - Usar render.yaml blueprint
#    - Configurar environment variables
#
# 2. Deploy via Render CLI:
#    render services create --blueprint render.yaml
#    render services deploy --service-id YOUR_SERVICE_ID
#
# 3. Logs e Debugging:
#    render services logs --service-id YOUR_SERVICE_ID
#    render services shell --service-id YOUR_SERVICE_ID
#
# 4. Scaling (quando necessário):
#    render services scale --service-id YOUR_SERVICE_ID --instances 2